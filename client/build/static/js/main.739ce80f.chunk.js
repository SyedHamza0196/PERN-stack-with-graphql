(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(e,n,t){e.exports=t(70)},62:function(e,n,t){},70:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),l=t(49),u=t.n(l),o=(t(62),t(50)),c=t(51),i=t(56),m=t(55),d=t(11),b=t(19),s=t(24);function v(){var e=Object(s.a)(["\n    query($id:ID){\n        book(id:$id){\n            id\n            name\n            genre\n            author{\n                id\n                name\n                age\n                books{\n                    id\n                    name\n                }\n            }\n        }\n    }\n"]);return v=function(){return e},e}function E(){var e=Object(s.a)(["\n    mutation($name:String!,$genre:String!,$authorId:ID!) {\n        addBook(name:$name,genre:$genre,authorId:$authorId){\n            name\n            id\n        }\n    }\n"]);return E=function(){return e},e}function f(){var e=Object(s.a)(["\n    {\n        authors{\n            name\n            id\n        }\n    }\n"]);return f=function(){return e},e}function p(){var e=Object(s.a)(["\n    {\n        books{\n            name\n            id\n        }\n    }\n"]);return p=function(){return e},e}var h=Object(d.gql)(p()),g=(Object(d.gql)(f()),Object(d.gql)(E())),j=Object(d.gql)(v());var O=function(e){var n=e.bookId,t=Object(d.useQuery)(j,{variables:{id:n}}),a=t.loading,l=t.data;if(a)return r.a.createElement("p",null,"Loading...");if(l){var u=l.book;return r.a.createElement("div",{id:"book-details"},r.a.createElement("h2",null,u.name),r.a.createElement("p",null,u.genre),r.a.createElement("p",null,u.author.name),r.a.createElement("p",null,"All books by this author"),r.a.createElement("ul",{className:"other-books"},u.author.books.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))))}};var k=function(){var e=Object(d.useQuery)(h),n=e.loading,t=e.data,l=Object(a.useState)(1),u=Object(b.a)(l,2),o=u[0],c=u[1];return n?r.a.createElement("p",null,"Loading..."):t?r.a.createElement("div",null,r.a.createElement("ul",{id:"book-list"},t.books.map((function(e){return r.a.createElement("li",{key:e.id,value:e.id,onClick:function(e){c(e.target.value)}},e.name)}))),r.a.createElement(O,{bookId:o})):void 0};var y=function(){var e=Object(d.useMutation)(g),n=Object(b.a)(e,2),t=n[0],l=(n[1].data,Object(a.useState)("")),u=Object(b.a)(l,2),o=u[0],c=u[1],i=Object(a.useState)(""),m=Object(b.a)(i,2),s=m[0],v=m[1],E=Object(a.useState)(""),f=Object(b.a)(E,2),p=f[0],j=f[1];return r.a.createElement("form",{id:"add-book",onSubmit:function(e){e.preventDefault(),t({variables:{name:o,genre:s,authorId:p},refetchQueries:[{query:h}]})}},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Book name: "),r.a.createElement("input",{type:"text",value:o,onChange:function(e){c(e.target.value)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Genre: "),r.a.createElement("input",{type:"text",value:s,onChange:function(e){v(e.target.value)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Author: "),r.a.createElement("select",{value:p,onChange:function(e){j(e.target.value)}},r.a.createElement("option",null,"Select Author"),r.a.createElement("option",{value:"1"},"a1"),r.a.createElement("option",{value:"2"},"a2"),r.a.createElement("option",{value:"3"},"a3"))),r.a.createElement("button",null,"+"))},I=new d.ApolloClient({uri:"/graphql",cache:new d.InMemoryCache}),S=function(e){Object(i.a)(t,e);var n=Object(m.a)(t);function t(){return Object(o.a)(this,t),n.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.ApolloProvider,{client:I},r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"Graphql Library"),r.a.createElement(k,null),r.a.createElement(y,null)))}}]),t}(a.Component);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.739ce80f.chunk.js.map